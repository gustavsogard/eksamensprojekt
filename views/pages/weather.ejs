<%- include ("../partials/header.ejs") %>

<link rel="stylesheet" href="https://fonts.googleapis.com/css2?family=Material+Symbols+Outlined:opsz,wght,FILL,GRAD@20..48,100..700,0..1,-50..200" />

<div class="weather-container">
  <div class="forecast-container">
    <div class="forecast-header">
      <p class="h2">Forecast</p>
      <span class="material-symbols-outlined">thermostat</span>
    </div>
    <div class="forecast-small-containers">
      <% forecast.forEach(forecastData => { %>
        <div class="forecast-div">
          <p class="forecast-day-name" style="font-weight: 600;"><%= forecastData.date.toString().slice(0,11) %></p>
          <p class="forecast-day-temp"><%= forecastData.degrees %>&#8451</p>
          <span class="material-symbols-outlined weatherIcon"><%= getCorrectIcon(forecastData.weathercode) %></span>
        </div>
      <% }) %>
    </div>
    <div class="forecast-readMore">
      <a href="https://www.yr.no/nb/v%C3%A6rvarsel/daglig-tabell/2-2618425/Danmark/Region%20Hovedstaden/K%C3%B8benhavn/K%C3%B8benhavn" target="_blank">
        <button class="forecast-btn btn btn-primary">Se mere</button>
      </a>
    </div>
  </div>
  <div class="historical-container">
    <div class="historical-header">
      <p class="h2">Historical</p>
      <span class="material-symbols-outlined">history</span>
      <p class="h2">(30 days)</p>
    </div>
    <div class="historical-small-containers">
      <% for (let i = 0; i < 3; i++) { %>
        <div class="historical-row">
          <% for (let j = 0; j < 7; j++) { %>
            <div class="historical-div">
              <p class="historical-day-name" style="font-weight: 600;"><%= historical[j+(i*7)].date.toString().slice(0,11) %></p>
              <p class="historical-day-temp"><%= historical[j+(i*7)].degrees %>&#8451</p>
              <span class="material-symbols-outlined weatherIcon"><%= getCorrectIcon(historical[j+(i*7)].weathercode) %></span>
            </div>
          <% } %>
        </div>
      <% } %>
    </div>
  </div>
</div>

