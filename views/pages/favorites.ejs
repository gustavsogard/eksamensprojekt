<%- include ("../partials/header.ejs") %>

<div id="news" class="left-side" style="max-width: 800px">
    <p class="h2" style="margin-bottom: 20px">Favoritter</p>
    <div id="articles">
        <div class="article-row"></div>
    </div>
</div>
<div class="right-side" style="display: flex; justify-content: center">
    <div style="width: 100%">
        <p class="h2">Kategorier</p>
        <div id="favorite-categories" class="favorite-categories">
            <% let id = 2; %>
            <% categories.forEach(element => { %>
                <div style="display:flex">
                    <button class="btn btn-primary"><%= element.name %></button>
                    <button class="favorite_btn" style="all:unset" id="<%= id %>"> 
                        <span class="material-symbols-rounded article-favorite">favorite</span>
                    </button>
                </div>
                <% id += 1; %>
            <% }) %>
        </div>
    </div>
</div>

<script>
    document.querySelectorAll('.favorite_btn').forEach(btn => {
        btn.addEventListener('click', event => {
        fetch('/favorites/categories/' + btn.id + '/addFavorite', {method: 'GET'})
        });
    });
</script>

<%- include ("../partials/footer.ejs") %>